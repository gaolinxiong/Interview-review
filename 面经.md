# Interview-review
## 面试复盘记录
### 8/17 运匠信息
#### 深拷贝方法（非json.stringify()和json.parse()）
三点考虑
1. 基本类型直接复制
2. 复杂类型判断并选择下层递归直至找到基本类型
3. 循环引用在判断是复杂类型的情况下 复制至copy_obj中 若子属性和本身相等 则直接复制循环引用
```
// 解决循环引用问题
var a = {};
a.info = a;
function deepCopy(target){
    let copyed_objs = [];//此数组解决了循环引用和相同引用的问题，它存放已经递归到的目标对象
    function _deepCopy(target){
        if((typeof target !== 'object')||!target){return target;}
        for(let i= 0 ;i < copyed_objs.length;i++){
            if(copyed_objs[i].target === target){
                return copyed_objs[i].copyTarget;
            }
        }
        let obj = {};
        if(Array.isArray(target)){
            console.log('target4', target)
            obj = [];//处理target是数组的情况
        }
        copyed_objs.push({target:target,copyTarget:obj})
        Object.keys(target).forEach(key=>{
            if(obj[key]){ return;}
            obj[key] = _deepCopy(target[key]);
        });
        return obj;
    }
    return _deepCopy(target);
}
console.log(deepCopy(a));
```
----
#### http响应状态码的含义：
可参 https://www.runoob.com/http/http-status-codes.html
+ 200 ：请求成功。一般用于GET与POST请求
+ 302 ：临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI
+ 401 ：请求要求用户的身份认证
+ 500 ：服务器内部错误，无法完成请求
----
#### http响应状态码的含义：
Cookie,localStorage,sessionStorage的区别
##### Cookie
cookie数据不能超过4k, cookie数据始终在同源的http请求中携带（即使不需要），即 cookie在浏览器和服务器间来回传递。
##### localStorage
localStorage约20M, 只能存储字符串 可以将对象JSON.stringify() 编码后存储
##### sessionStorage
sessionStorage约5M, 它只是可以将一部分数据在当前会话中保存下来，刷新页面数据依旧存在。但当页面关闭后，sessionStorage 中的数据就会被清空。
sessionStorage不能在不同的浏览器窗口中共享，即使是同一个页面；localStorage 在所有同源窗口中都是共享的；cookie也是在所有同源窗口中都是共享的。
----
#### eventBus(不常用，后续更新)

----
### 8/18 上海博卡
#### C端屏幕适配（使用rem）
以iPhone6为例子（375，667）
>适配文档分享：链接: https://pan.baidu.com/s/1Q7uALfCOLVAb50YkVjfpWQ  密码: 7akb
```
let getSize = document.documentElement.clientWidth / 10 = 37.5
/* 设置font-size */
document.style.fontSize = `${getSize}px`;
/* 由此，1rem = 37.5px;
1px = 2/75rem
@rem: 2/75rem;
接下来就可以使用@rem了
```
----
#### iphoneX适配
    padding-top: constant(safe-area-inset-top);

    padding-top: env(safe-area-inset-top);
    
    padding-bottom: constant(safe-area-inset-bottom);
    
    padding-bottom: env(safe-area-inset-bottom);
----
#### 客户端及webview之间通信
就是在js上下文注入一个JavascriptInterface。
假设这个JavascriptInterface名为AndroidIn。
那么在webview里面可以直接调用Android

    // webview
    WebView webView = (WebView)findViewById(R.id.shop);
    webView.getSettings().setJavaScriptEnabled(true);
     class JsInterface {
        @JavascriptInterface
        public void showToast(String toast) {
            Toast.makeText(MainActivity.this, toast, Toast.LENGTH_SHORT).show();
        }
    }
    webView.addJavascriptInterface(new JsInterface(), "AndroidIn");

    // 直接调用android提供的方法
    <div>我是webview</div>
    <div id="cs">测试JavascriptInterface</div>
    </body>
    <script>
        let i = 0;
        $("#cs").on("click", function(){
            AndroidIn.showToast("我是弹窗");
        })
    </script>
----
